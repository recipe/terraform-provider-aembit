---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "aembit_trust_provider Resource - terraform-provider-aembit"
subcategory: ""
description: |-
  
---

# aembit_trust_provider (Resource)

Resource to create and manage Trust Providers in a Aembit Cloud tenant.

## Example Usage
```terraform
resource "aembit_trust_provider" "aws" {
	name = "AWS Metadata Trust Provider"
	is_active = true
	aws_metadata = {
		certificate = <<-EOT
-----BEGIN CERTIFICATE-----
MIIDIjCCAougAwIBAgIJAKnL4UEDMN/FMA0GCSqGSIb3DQEBBQUAMGoxCzAJBgNV
BAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdTZWF0dGxlMRgw
FgYDVQQKEw9BbWF6b24uY29tIEluYy4xGjAYBgNVBAMTEWVjMi5hbWF6b25hd3Mu
Y29tMB4XDTE0MDYwNTE0MjgwMloXDTI0MDYwNTE0MjgwMlowajELMAkGA1UEBhMC
VVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1NlYXR0bGUxGDAWBgNV
BAoTD0FtYXpvbi5jb20gSW5jLjEaMBgGA1UEAxMRZWMyLmFtYXpvbmF3cy5jb20w
gZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAIe9GN//SRK2knbjySG0ho3yqQM3
e2TDhWO8D2e8+XZqck754gFSo99AbT2RmXClambI7xsYHZFapbELC4H91ycihvrD
jbST1ZjkLQgga0NE1q43eS68ZeTDccScXQSNivSlzJZS8HJZjgqzBlXjZftjtdJL
XeE4hwvo0sD4f3j9AgMBAAGjgc8wgcwwHQYDVR0OBBYEFCXWzAgVyrbwnFncFFIs
77VBdlE4MIGcBgNVHSMEgZQwgZGAFCXWzAgVyrbwnFncFFIs77VBdlE4oW6kbDBq
MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHU2Vh
dHRsZTEYMBYGA1UEChMPQW1hem9uLmNvbSBJbmMuMRowGAYDVQQDExFlYzIuYW1h
em9uYXdzLmNvbYIJAKnL4UEDMN/FMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEF
BQADgYEAFYcz1OgEhQBXIwIdsgCOS8vEtiJYF+j9uO6jz7VOmJqO+pRlAbRlvY8T
C1haGgSI/A1uZUKs/Zfnph0oEI0/hu1IIJ/SKBDtN5lvmZ/IzbOPIJWirlsllQIQ
7zvWbGd9c9+Rm3p04oTvhup99la7kZqevJK0QRdD/6NpCKsqP/0=
-----END CERTIFICATE-----
EOT
		account_id = "account_id"
		architecture = "architecture"
		availability_zone = "availability_zone"
		billing_products = "billing_products"
		image_id = "image_id"
		instance_id = "instance_id"
		instance_type = "instance_type"
		kernel_id = "kernel_id"
		marketplace_product_codes = "marketplace_product_codes"
		pending_time = "pending_time"
		private_ip = "private_ip"
		ramdisk_id = "ramdisk_id"
		region = "region"
		version = "version"
	}
}

resource "aembit_trust_provider" "azure" {
	name = "Azure Metadata Trust Provider"
	is_active = true
	azure_metadata = {
		subscription_id = "subscription_id"
	}
}

resource "aembit_trust_provider" "kerberos" {
	name = "Kerberos Agent Controller Trust Provider"
	is_active = true
	kerberos = {
		agent_controller_id = "fb1b63df-bfc2-4ff9-baa4-fc84bdf9a7e5"
		realm = "realm"
		principal = "principal"
		source_ip = "source_ip"
	}
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name for the Trust Provider.

### Optional

- `aws_ecs_role` (Attributes) AWS ECS Role type Trust Provider configuration. (see [below for nested schema](#nestedatt--aws_ecs_role))
- `aws_metadata` (Attributes) AWS Metadata type Trust Provider configuration. (see [below for nested schema](#nestedatt--aws_metadata))
- `azure_metadata` (Attributes) Azure Metadata type Trust Provider configuration. (see [below for nested schema](#nestedatt--azure_metadata))
- `description` (String) Description for the Trust Provider.
- `gcp_identity` (Attributes) GCP Identity type Trust Provider configuration. (see [below for nested schema](#nestedatt--gcp_identity))
- `github_action` (Attributes) GitHub Action type Trust Provider configuration. (see [below for nested schema](#nestedatt--github_action))
- `is_active` (Boolean) Active status of the Trust Provider.
- `kerberos` (Attributes) Kerberos type Trust Provider configuration. (see [below for nested schema](#nestedatt--kerberos))
- `kubernetes_service_account` (Attributes) Kubernetes Service Account type Trust Provider configuration. (see [below for nested schema](#nestedatt--kubernetes_service_account))
- `tags` (Map of String) Tags are key-value pairs.
- `terraform_workspace` (Attributes) Terraform Workspace type Trust Provider configuration. (see [below for nested schema](#nestedatt--terraform_workspace))

### Read-Only

- `id` (String) Unique identifier of the Trust Provider.

<a id="nestedatt--aws_ecs_role"></a>
### Nested Schema for `aws_ecs_role`

Optional:

- `account_id` (String) The ID of the AWS account that is hosting the ECS Task.
- `assumed_role` (String) The Name of the AWS IAM Role which is running the ECS Task.
- `role_arn` (String) The ARN of the AWS IAM Role which is running the ECS Task.
- `username` (String) The UsernID of the AWS IAM Account which is running the ECS Task (not commonly used).


<a id="nestedatt--aws_metadata"></a>
### Nested Schema for `aws_metadata`

Optional:

- `account_id` (String) The ID of the AWS account that launched the instance.
- `architecture` (String) The architecture of the AMI used to launch the instance (i386 | x86_64 | arm64).
- `availability_zone` (String) The Availability Zone in which the instance is running.
- `billing_products` (String) The billing products of the instance.
- `certificate` (String) PEM Certificate to be used for Signature verification.
- `image_id` (String) The ID of the AMI used to launch the instance.
- `instance_id` (String) The ID of the instance.
- `instance_type` (String) The instance type of the instance.
- `kernel_id` (String) The ID of the kernel associated with the instance, if applicable.
- `marketplace_product_codes` (String) The AWS Marketplace product code of the AMI used to launch the instance.
- `pending_time` (String) The date and time that the instance was launched.
- `private_ip` (String) The private IPv4 address of the instance.
- `ramdisk_id` (String) The ID of the RAM disk associated with the instance, if applicable.
- `region` (String) The Region in which the instance is running.
- `version` (String) The version of the instance identity document format.


<a id="nestedatt--azure_metadata"></a>
### Nested Schema for `azure_metadata`

Optional:

- `sku` (String) Specific SKU for the Virtual Machine image.
- `subscription_id` (String) Azure subscription for the Virtual Machine.
- `vm_id` (String) Unique identifier for the Virtual Machine.


<a id="nestedatt--gcp_identity"></a>
### Nested Schema for `gcp_identity`

Optional:

- `email` (String) The Email of the GCP Service Account used by the associated GCP resource.


<a id="nestedatt--github_action"></a>
### Nested Schema for `github_action`

Optional:

- `actor` (String) The GitHub Actor which initiated the GitHub Action.
- `repository` (String) The GitHub Repository associated with the GitHub Action ID Token.
- `workflow` (String) The GitHub Workflow execution associated with the GitHub Action ID Token.


<a id="nestedatt--kerberos"></a>
### Nested Schema for `kerberos`

Required:

- `agent_controller_ids` (Set of String) Unique identifier for the Aembit Agent Controller to use for Signature verification.

Optional:

- `principal` (String) The Kerberos Principal of the authenticated Agent Proxy.
- `realm` (String) The Kerberos Realm of the authenticated Agent Proxy.
- `source_ip` (String) The Source IP Address of the authenticated Agent Proxy.


<a id="nestedatt--kubernetes_service_account"></a>
### Nested Schema for `kubernetes_service_account`

Optional:

- `issuer` (String) The Issuer (`iss` claim) of the Kubernetes Service Account Token.
- `namespace` (String) The Namespace of the Kubernetes Service Account Token.
- `oidc_endpoint` (String) The OIDC Endpoint from which Public Keys can be retrieved for verifying the signature of the Kubernetes Service Account Token.
- `pod_name` (String) The Pod Name of the Kubernetes Service Account Token.
- `public_key` (String) The Public Key that can be used to verify the signature of the Kubernetes Service Account Token.
- `service_account_name` (String) The Service Account Name of the Kubernetes Service Account Token.
- `subject` (String) The Subject (`sub` claim) of the Kubernetes Service Account Token.


<a id="nestedatt--terraform_workspace"></a>
### Nested Schema for `terraform_workspace`

Optional:

- `organization_id` (String) The Organization ID of the calling Terraform Workspace.
- `project_id` (String) The Project ID of the calling Terraform Workspace.
- `workspace_id` (String) The Workspace ID of the calling Terraform Workspace.


